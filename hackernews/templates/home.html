{% extends "layout.html" %}
{% block content %}
	{% for news_item in news_items.items|reverse %}
		<article class="news content-section">
  			<div class="news-body">
    				<div class="news-metadata">
					<p class="mb-0">
						<span class="float-left">By {{ news_item.by }}</span>
						<span class="float-right">{{ news_item.time | unix_to_datetime }}</span>
					</p>
    				</div>
    				<h2 class="newsitem-title">
					<span class="d-block" style="clear: left;">{{ news_item.title }}</span>
				</h2>
  		                <p>Url: <a style="color: #5a4646;" class="newsitem_url" href="{{ news_item.url }}" target="_blank">{{ news_item.url }}</a></p>

				<div><ul style="margin: 0; padding 0; list-style-type: none;"><li>
							<form method="post" style="display: inline; font-weight: bold; padding-left: 10px; color: {{ like_font_color[news_item.id] }}">
    						<input type="hidden" name="news_item_id" value="{{ news_item.id }}">
    						<input type="hidden" name="action" value="like"> <!-- Set the action directly -->
    						<span class="vote-count">{{ like_count[news_item.id] }}</span>
						<button type="submit" class="image-button" style="background-color: transparent; border-color: transparent;">
							<img src="{{ like_image_url[news_item.id] }}" alt="Like" style="height: 22px; width: 22px;">
    						</button>
					</form>
					<form method="post" style="display: inline; padding-right: 40px; font-weight: bold; color: {{ dislike_font_color[news_item.id] }}" class="float-right">
    						<input type="hidden" name="news_item_id" value="{{ news_item.id }}">
    						<input type="hidden" name="action" value="dislike"> <!-- Set the action directly -->
    						<span class="vote-count">{{ dislike_count[news_item.id] }}</span>
						<button type="submit" class="image-button" style="background-color: transparent; border-color: transparent;">
							<img src="{{ dislike_image_url[news_item.id] }}" alt="Dislike" style="height: 22px; width: 22px;">
    						</button>
					</form>
				</li></ul></div>
			</div>
		</article>
	{% endfor %}
	{% for page_num in news_items.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
		{% if page_num %}
			{% if news_items.page == page_num %}
				<a class="active-page-button"href="{{ url_for('home', page=page_num) }}">{{ page_num }}</a>
			{% else %}
				<a class="page-button"href="{{ url_for('home', page=page_num) }}">{{ page_num }}</a>
			{% endif %}
		{% else %}
			...
		{% endif %}
	{% endfor %}
	<script>
    		function setAction(actionValue) {
			document.getElementById("action_like").value = actionValue;
			document.getElementById("action_dislike").value = actionValue;
		}
	</script>
{% endblock content %}
